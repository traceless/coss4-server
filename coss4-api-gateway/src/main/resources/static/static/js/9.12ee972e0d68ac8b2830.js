webpackJsonp([9],{VvA7:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("vgQg"),o=t("YMCY"),a=t("7TVq"),n={mixins:[i.a,o.a,a.a],data:function(){var e=this,r=function(r,t,i){var o=e;if(""===t||void 0===t)i(new Error("图片验证码不能为空"));else{var a={code:t};o.$axios.put("/api/verification-code/imageCode/checkCaseInsensitive",a).then(function(e){0!==e.data.code?i(new Error("图片验证码不正确")):i()}).catch(function(e){})}};return{form:{image:"",userLogin:{username:"",password:"",verification:""},phoneLogin:{number:"",message:"",verification:"",buttonText:"发送验证码"},playerLogin:{mode:!1,username:"",password:"",verification:""},qrCodeLogin:{message:"请使用竞赛在线评分手机客户端扫描二维码登录"},errorCode:{userLoginError:""}},rules:{userRule:{username:{required:!0,message:"用户名/邮箱不能为空",trigger:"blur"},password:{required:!0,message:"密码不能为空",trigger:"blur"},verification:{required:!0,validator:r,trigger:"blur"}},phoneRule:{number:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{type:"number",message:"请输入正确的手机号码",trigger:"blur"},{validator:function(e,r,t){11!==String(r).length?t("请输入正确的手机号码"):t()},trigger:"blur"}],verification:{required:!0,validator:r,trigger:"blur"},message:{required:!0,message:"短信验证码不能为空",trigger:"blur"}},playerRule:{mode:[{required:!0,message:"账号类型不能为空",trigger:"blur"},{type:"boolean",message:"请选择正确的账号类型"}],username:{required:!0,message:"账号不能为空",trigger:"blur"},password:{required:!0,message:"密码不能为空",trigger:"blur"},verification:{required:!0,validator:r,trigger:"blur"}}}}},mounted:function(){null!==this.getUserInfo()&&this.goBack(),this.getImageVerification()},methods:{getImageVerification:function(){var e=this;e.form.verification="",e.$axios.get("/api/verification-code/imageCode/getVerificationCode").then(function(r){0===r.data.code&&(e.form.image=r.data.data)}).catch(function(e){})},loginWithUserLogin:function(){var e=this,r={username:e.form.userLogin.username,password:e.form.userLogin.password};e.form.errorCode.userLoginError="",e.$refs.userLoginForm.validate(function(t){if(!t)return!1;e.loginWithUsualInfo(r,function(){e.goBack()},function(r){return e.form.errorCode.userLoginError=r,e.getImageVerification(),!1})})},loginWithCompetitionAccount:function(){this.form.playerLogin.mode&&this.$router.push({path:"/scoring/cm5"})},goBack:function(){var e=this.$route.query.from;e?(this.$router.push({path:e}),console.log(e)):(this.$router.push({path:"/"}),console.log("/"))}}},s={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-container",attrs:{id:"login-container"}},[e._m(0),e._v(" "),t("el-tabs",{attrs:{type:"border-card",stretch:!0}},[t("el-tab-pane",{attrs:{label:"用户密码登录"}},[t("el-form",{ref:"userLoginForm",attrs:{model:e.form.userLogin,"status-icon":"","label-width":"92px",rules:e.rules.userRule}},[t("el-form-item",{attrs:{label:"用户名",prop:"username",error:e.form.errorCode.userLoginError}},[t("el-input",{attrs:{placeholder:"用户名/邮箱"},model:{value:e.form.userLogin.username,callback:function(r){e.$set(e.form.userLogin,"username",r)},expression:"form.userLogin.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password",error:e.form.errorCode.userLoginError}},[t("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:e.form.userLogin.password,callback:function(r){e.$set(e.form.userLogin,"password",r)},expression:"form.userLogin.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"图片验证码",prop:"verification"}},[t("el-col",{staticStyle:{"padding-right":"14px"},attrs:{span:16}},[t("el-input",{attrs:{placeholder:"验证码不区分大小写"},model:{value:e.form.userLogin.verification,callback:function(r){e.$set(e.form.userLogin,"verification",r)},expression:"form.userLogin.verification"}})],1),e._v(" "),t("el-col",{staticStyle:{height:"40px"},attrs:{span:8,title:"点击刷新验证码"}},[t("img",{staticClass:"image-code",attrs:{src:e.form.image,alt:"点击刷新验证码"},on:{click:e.getImageVerification}})])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.loginWithUserLogin}},[e._v("登录")]),e._v(" "),t("el-button",{attrs:{type:"primary"}},[e._v("注册")]),e._v(" "),t("el-button",{on:{click:e.goBack}},[e._v("返回")]),e._v(" "),t("el-link",{staticStyle:{float:"right"},attrs:{type:"primary",underline:!1}},[e._v("忘记密码？")])],1)],1),e._v(" "),t("el-divider"),e._v(" "),t("div",{staticClass:"third-part-login"},[t("p",[e._v("第三方平台登录：")]),e._v(" "),t("ul",[t("li",[t("img",{attrs:{width:"30",src:"/static/imgs/login/qq.svg",alt:"QQ登录"}})]),e._v(" "),t("li",[t("img",{attrs:{width:"30",src:"/static/imgs/login/wechat.svg",alt:"微信登录"}})]),e._v(" "),t("li",[t("img",{attrs:{width:"30",src:"/static/imgs/login/weibo.svg",alt:"微博登录"}})])])])],1),e._v(" "),t("el-tab-pane",{attrs:{label:"短信验证码登录"}},[t("el-form",{ref:"phoneLoginForm",attrs:{model:e.form.phoneLogin,"status-icon":"","label-width":"92px",rules:e.rules.phoneRule}},[t("el-form-item",{attrs:{label:"手机",prop:"number"}},[t("el-input",{attrs:{placeholder:"手机号码",maxlength:"11",type:"tel"},model:{value:e.form.phoneLogin.number,callback:function(r){e.$set(e.form.phoneLogin,"number",e._n(r))},expression:"form.phoneLogin.number"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"图片验证码",prop:"verification"}},[t("el-col",{staticStyle:{"padding-right":"14px"},attrs:{span:16}},[t("el-input",{attrs:{placeholder:"验证码不区分大小写"},model:{value:e.form.phoneLogin.verification,callback:function(r){e.$set(e.form.phoneLogin,"verification",r)},expression:"form.phoneLogin.verification"}})],1),e._v(" "),t("el-col",{staticStyle:{height:"40px"},attrs:{span:8,title:"点击刷新验证码"}},[t("img",{staticClass:"image-code",attrs:{src:e.form.image,alt:"点击刷新验证码"},on:{click:e.getImageVerification}})])],1),e._v(" "),t("el-form-item",{attrs:{label:"短信验证码",prop:"message"}},[t("el-col",{staticStyle:{"padding-right":"14px"},attrs:{span:16}},[t("el-input",{attrs:{placeholder:"短信验证码"},model:{value:e.form.phoneLogin.message,callback:function(r){e.$set(e.form.phoneLogin,"message",r)},expression:"form.phoneLogin.message"}})],1),e._v(" "),t("el-col",{staticStyle:{height:"40px"},attrs:{span:8}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",disabled:"发送验证码"!==e.form.phoneLogin.buttonText}},[e._v("\n                "+e._s(e.form.phoneLogin.buttonText)+"\n              ")])],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("登录")]),e._v(" "),t("el-button",{attrs:{type:"primary"}},[e._v("注册")]),e._v(" "),t("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"竞赛账号登录"}},[t("el-form",{ref:"playerLoginForm",attrs:{model:e.form,"status-icon":"","label-width":"92px",rules:e.rules.playerRule}},[t("el-form-item",{attrs:{label:"账号类型",prop:"mode"}},[t("el-radio-group",{model:{value:e.form.playerLogin.mode,callback:function(r){e.$set(e.form.playerLogin,"mode",r)},expression:"form.playerLogin.mode"}},[t("el-radio",{attrs:{label:!1}},[e._v("参赛账号")]),e._v(" "),t("el-radio",{attrs:{label:!0}},[e._v("评委账号")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"账号",prop:"username"}},[t("el-input",{attrs:{placeholder:(e.form.playerLogin.mode?"评委":"参赛")+"账号"},model:{value:e.form.playerLogin.username,callback:function(r){e.$set(e.form.playerLogin,"username",r)},expression:"form.playerLogin.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:e.form.playerLogin.password,callback:function(r){e.$set(e.form.playerLogin,"password",r)},expression:"form.playerLogin.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"图片验证码",prop:"verification"}},[t("el-col",{staticStyle:{"padding-right":"14px"},attrs:{span:16}},[t("el-input",{attrs:{placeholder:"验证码不区分大小写"},model:{value:e.form.playerLogin.verification,callback:function(r){e.$set(e.form.playerLogin,"verification",r)},expression:"form.playerLogin.verification"}})],1),e._v(" "),t("el-col",{staticStyle:{height:"40px"},attrs:{span:8,title:"点击刷新验证码"}},[t("img",{staticClass:"image-code",attrs:{src:e.form.image,alt:"点击刷新验证码"},on:{click:e.getImageVerification}})])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.loginWithCompetitionAccount}},[e._v("登录")]),e._v(" "),t("el-button",{on:{click:e.goBack}},[e._v("返回")]),e._v(" "),t("el-link",{staticStyle:{float:"right"},attrs:{type:"primary",underline:!1}},[e._v("忘记密码？")])],1)],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"二维码安全登录"}},[t("div",{staticClass:"qr-code",attrs:{id:"qr-code"}}),e._v(" "),t("p",{staticStyle:{"font-size":"14px","text-align":"center"}},[e._v(e._s(e.form.qrCodeLogin.message))]),e._v(" "),t("div",{staticStyle:{"margin-top":"10px","text-align":"center"}},[t("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)])],1)],1)},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"login-icon",attrs:{id:"login-icon"}},[r("div",{staticStyle:{width:"200px",height:"100%",margin:"0 auto"}},[r("a",{attrs:{href:"/"}},[r("div",{staticStyle:{height:"100%"}})])])])}]};var l=t("C7Lr")(n,s,!1,function(e){t("vjAE")},"data-v-25d30542",null);r.default=l.exports},vjAE:function(e,r){}});
//# sourceMappingURL=9.12ee972e0d68ac8b2830.js.map