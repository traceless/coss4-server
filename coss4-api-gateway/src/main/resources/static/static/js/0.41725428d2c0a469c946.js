webpackJsonp([0],{"3cXf":function(t,e,a){t.exports={default:a("VWiu"),__esModule:!0}},"7TVq":function(t,e,a){"use strict";var n=a("vgQg"),s=a("YMCY");e.a={name:"loginAndLogout",mixins:[n.a,s.a],methods:{loginWithUsualInfo:function(t,e,a){var n=this;this.$axios.post("/api/user-management/entry/loginWithUsualInfo",t).then(function(t){0===t.data.code?(n.isLogin=!0,n.user=t.data.data,n.flushUserInfo(),n.successMessage("登陆成功"),e(t.data.data)):"function"==typeof a&&a(t.data.msg)}).catch(function(t){n.errorMessage("请求失败")})},logout:function(t,e,a){var n=this;this.$axios.post("/api/user-management/entry/logout",{}).then(function(s){0===s.data.code?(n.clearUserInfo(a),t(s.data.msg)):"function"==typeof e&&e(s.data.msg)}).catch(function(t){n.errorMessage("请求失败")})}}}},"836m":function(t,e,a){"use strict";var n=a("YMCY"),s=a("MO2h");function i(t){var e=1315423911,a=void 0;for(a=t.length-1;a>=0;a--)e^=(e<<5)+t.charCodeAt(a)+(e>>2);return 2147483647&e}e.a={name:"baseInformation",mixins:[n.a,s.a],methods:{queryCompetition:function(t,e,a){var n=this;this.$axios.put("/api/competition-management/base/queryCompetition",t).then(function(t){if(0===t.data.code){if(t.data.data.imageUrl)t.data.data.imageUrl=n.formatImageUrl(t.data.data.imageUrl);else{var s=i(t.data.data.compName)%6+1;t.data.data.imageUrl="/static/imgs/cover/competition-default-cover-"+s+".png"}!0===t.data.data.endingSign?t.data.data.tagMode={type:"danger",content:"已结束"}:new Date(t.data.data.startTime)>new Date?t.data.data.tagMode={type:"",content:"未开始"}:t.data.data.tagMode={type:"success",content:"进行中"},e(t.data.data)}else"function"==typeof a&&a(t.data.msg)}).catch(function(t){n.errorMessage("请求失败")})},queryCompetitionList:function(t,e,a){var n=this;this.$axios.put("/api/competition-management/base/queryCompetitionList",t).then(function(t){if(0===t.data.code){for(var s=t.data.data,o=0;o<s.list.length;o++){if(s.list[o].imageUrl)s.list[o].imageUrl=n.formatImageUrl(s.list[o].imageUrl);else{var r=i(s.list[o].compName)%6+1;s.list[o].imageUrl="/static/imgs/cover/competition-default-cover-"+r+".png"}!0===s.list[o].endingSign?s.list[o].tagMode={type:"danger",content:"已结束"}:new Date(s.list[o].startTime)>new Date?s.list[o].tagMode={type:"",content:"未开始"}:s.list[o].tagMode={type:"success",content:"进行中"},s.list[o].viewCount=0,s.list[o].topCount=0,s.list[o].likeCount=0,s.list[o].replyCount=0}e(s)}else"function"==typeof a&&a(t.data.msg)}).catch(function(t){n.errorMessage("请求失败")})}}}},MO2h:function(t,e,a){"use strict";e.a={name:"format",methods:{formatDate:function(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var s=e.getDate();return a+"-"+n+"-"+(s=s<10?"0"+s:s)},formatDateTime:function(t){return t.getFullYear()+"-"+((t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-")+((t.getDate()<10?"0":"")+t.getDate()+" ")+((t.getHours()<10?"0":"")+t.getHours()+":")+((t.getMinutes()<10?"0":"")+t.getMinutes()+":")+((t.getSeconds()<10?"0":"")+t.getSeconds())},formatImageUrl:function(t){return 0===t.indexOf("https://")?t=t.substr(6):0===t.indexOf("http://")&&(t=t.substr(5)),t},formatVarToArray:function(t){return"string"==typeof t&&(t=[t]),t}}}},VWiu:function(t,e,a){var n=a("DH3n"),s=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},YMCY:function(t,e,a){"use strict";e.a={data:function(){return{}},methods:{infoMessage:function(t){this.$message({showClose:!0,type:"info",message:t,duration:1500})},successMessage:function(t){this.$message({showClose:!0,type:"success",message:t,duration:1500})},warningMessage:function(t){this.$message({showClose:!0,type:"warning",message:t,duration:1500})},errorMessage:function(t){this.$message({showClose:!0,type:"error",message:t,duration:1500})}}}},vgQg:function(t,e,a){"use strict";var n=a("3cXf"),s=a.n(n);e.a={data:function(){return{isLogin:!1,user:null}},mounted:function(){this.getUserInfo()},methods:{flushUserInfo:function(){this.isLogin=null!==this.user,localStorage.setItem("userInfo",s()(this.user))},getUserInfo:function(){return null===this.user&&(this.user=JSON.parse(localStorage.getItem("userInfo"))),this.isLogin=null!==this.user,this.user},clearUserInfo:function(t){this.user=null,this.flushUserInfo(),t?this.$router.push({path:t}):this.$router.go(0)}}}}});
//# sourceMappingURL=0.41725428d2c0a469c946.js.map