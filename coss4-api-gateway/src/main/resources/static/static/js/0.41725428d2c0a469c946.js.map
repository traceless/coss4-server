{"version":3,"sources":["webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js","webpack:///./src/assets/js/api/userManagement/loginAndLogout.js","webpack:///./src/assets/js/api/competitionManagement/baseInformation.js","webpack:///./src/assets/js/format.js","webpack:///./node_modules/_core-js@2.6.12@core-js/library/fn/json/stringify.js","webpack:///./src/assets/js/message.js","webpack:///./src/assets/js/config.js"],"names":["module","exports","default","__webpack_require__","__esModule","__WEBPACK_IMPORTED_MODULE_0__config__","__WEBPACK_IMPORTED_MODULE_1__message__","__webpack_exports__","name","mixins","config","message","methods","loginWithUsualInfo","data","success","failed","that","this","$axios","post","then","result","code","isLogin","user","flushUserInfo","successMessage","msg","catch","err","errorMessage","logout","targetUrl","clearUserInfo","__WEBPACK_IMPORTED_MODULE_0__message__","__WEBPACK_IMPORTED_MODULE_1__format__","getHashCode","str","hash","i","length","charCodeAt","format","queryCompetition","put","imageUrl","formatImageUrl","hashCode","compName","endingSign","tagMode","type","content","Date","startTime","queryCompetitionList","items","index","list","viewCount","topCount","likeCount","replyCount","formatDate","currentDate","date","year","getFullYear","month","getMonth","day","getDate","formatDateTime","getHours","getMinutes","getSeconds","indexOf","substr","formatVarToArray","stringOrArray","core","$JSON","JSON","stringify","it","apply","arguments","infoMessage","$message","showClose","duration","warningMessage","mounted","getUserInfo","localStorage","setItem","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","parse","getItem","$router","push","path","go"],"mappings":"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","file":"static/js/0.41725428d2c0a469c946.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js\n// module id = 3cXf\n// module chunks = 0","import config from \"../../config\";\nimport message from \"../../message\";\n\nexport default {\n    name: 'loginAndLogout',\n    mixins: [config, message],\n    methods: {\n        loginWithUsualInfo(data, success, failed) {\n            let that = this;\n            this.$axios.post('/api/user-management/entry/loginWithUsualInfo', data).then(result => {\n                if (result.data.code === 0) {\n                    that.isLogin = true;\n                    that.user = result.data.data;\n                    that.flushUserInfo();\n                    that.successMessage('登陆成功');\n                    success(result.data.data);\n                } else if ('function' === typeof failed) {\n                    failed(result.data.msg);\n                }\n            }).catch(err => {\n                that.errorMessage('请求失败');\n            });\n        },\n        logout(success, failed, targetUrl) {\n            let that = this;\n            this.$axios.post('/api/user-management/entry/logout', {}).then(result => {\n                if (result.data.code === 0) {\n                    that.clearUserInfo(targetUrl);\n                    success(result.data.msg);\n                } else if ('function' === typeof failed) {\n                    failed(result.data.msg);\n                }\n            }).catch(err => {\n                that.errorMessage('请求失败');\n            });\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/api/userManagement/loginAndLogout.js","import message from \"../../message\";\nimport format from \"../../format\";\n\nexport default {\n    name: 'baseInformation',\n    mixins: [message, format],\n    methods: {\n        queryCompetition(data, success, failed) {\n            let that = this;\n            this.$axios.put('/api/competition-management/base/queryCompetition', data).then(result => {\n                if (result.data.code === 0) {\n                    if (!result.data.data.imageUrl) {\n                        let hashCode = getHashCode(result.data.data.compName) % 6 + 1;\n                        result.data.data.imageUrl = '/static/imgs/cover/competition-default-cover-' + hashCode + '.png';\n                    } else {\n                        result.data.data.imageUrl = that.formatImageUrl(result.data.data.imageUrl);\n                    }\n                    // 判断竞赛状态\n                    if (result.data.data.endingSign === true) {\n                        result.data.data.tagMode = {type: 'danger', content: '已结束'};\n                    } else if (new Date(result.data.data.startTime) > new Date()) {\n                        result.data.data.tagMode = {type: '', content: '未开始'};\n                    } else {\n                        result.data.data.tagMode = {type: 'success', content: '进行中'};\n                    }\n                    success(result.data.data);\n                } else if ('function' === typeof failed) {\n                    failed(result.data.msg);\n                }\n            }).catch(err => {\n                that.errorMessage('请求失败');\n            });\n        },\n        queryCompetitionList(data, success, failed) {\n            let that = this;\n            this.$axios.put('/api/competition-management/base/queryCompetitionList', data).then(result => {\n                if (result.data.code === 0) {\n                    let items = result.data.data;\n                    for (let index = 0; index < items.list.length; index++) {\n                        // 添加默认封面\n                        if (!items.list[index].imageUrl) {\n                            let hashCode = getHashCode(items.list[index].compName) % 6 + 1;\n                            items.list[index].imageUrl = '/static/imgs/cover/competition-default-cover-' + hashCode + '.png';\n                        } else {\n                            items.list[index].imageUrl = that.formatImageUrl(items.list[index].imageUrl);\n                        }\n                        // 判断竞赛状态\n                        if (items.list[index].endingSign === true) {\n                            items.list[index].tagMode = {type: 'danger', content: '已结束'};\n                        } else if (new Date(items.list[index].startTime) > new Date()) {\n                            items.list[index].tagMode = {type: '', content: '未开始'};\n                        } else {\n                            items.list[index].tagMode = {type: 'success', content: '进行中'};\n                        }\n                        // 互动信息\n                        items.list[index].viewCount = 0;\n                        items.list[index].topCount = 0;\n                        items.list[index].likeCount = 0;\n                        items.list[index].replyCount = 0;\n                    }\n                    success(items);\n                } else if ('function' === typeof failed) {\n                    failed(result.data.msg);\n                }\n            }).catch(err => {\n                that.errorMessage('请求失败');\n            });\n        }\n    }\n}\n\n/**\n * 获取字符串的哈希值\n * @param str 字符串\n * @returns {number} 哈希值\n */\nfunction getHashCode(str){\n    let hash = 1315423911, i, ch;\n    for (i = str.length - 1; i >= 0; i--) {\n        ch = str.charCodeAt(i);\n        hash ^= ((hash << 5) + ch + (hash >> 2));\n    }\n    return  (hash & 0x7FFFFFFF);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/api/competitionManagement/baseInformation.js","export default {\n    name: 'format',\n    methods: {\n        formatDate(currentDate) {\n            let date = new Date(currentDate);\n            let year = date.getFullYear();\n            let month = date.getMonth() + 1;\n            month = month < 10 ? ('0' + month) : month;\n            let day = date.getDate();\n            day = day < 10 ? ('0' + day) : day;\n            return year + \"-\" + month + \"-\" + day;\n        },\n        formatDateTime(currentDate) {\n            let Y = currentDate.getFullYear() + '-';\n            let M = (currentDate.getMonth() + 1 < 10 ? '0' : '') + (currentDate.getMonth() + 1) + '-';\n            let D = (currentDate.getDate() < 10 ? '0' : '') + currentDate.getDate() + ' ';\n            let h = (currentDate.getHours() < 10 ? '0' : '') + currentDate.getHours() + ':';\n            let m = (currentDate.getMinutes() < 10 ? '0' : '') + currentDate.getMinutes() + ':';\n            let s = (currentDate.getSeconds() < 10 ? '0' : '') + currentDate.getSeconds();\n            return Y + M + D + h + m + s;\n        },\n        formatImageUrl(imageUrl) {\n            if (imageUrl.indexOf('https://') === 0) {\n                imageUrl = imageUrl.substr(6);\n            } else if (imageUrl.indexOf('http://') === 0) {\n                imageUrl = imageUrl.substr(5);\n            }\n            return imageUrl;\n        },\n        formatVarToArray(stringOrArray) {\n            if ('string' === typeof stringOrArray) {\n                stringOrArray = [stringOrArray];\n            }\n            return stringOrArray;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/format.js","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.12@core-js/library/fn/json/stringify.js\n// module id = VWiu\n// module chunks = 0","export default {\n    data() {\n        return {}\n    },\n    methods: {\n    infoMessage(content) {\n        this.$message({showClose: true, type: 'info', message: content, duration: 1500});\n    },\n    successMessage(content) {\n        this.$message({showClose: true, type: 'success', message: content, duration: 1500});\n    },\n    warningMessage(content) {\n        this.$message({showClose: true, type: 'warning', message: content, duration: 1500});\n    },\n    errorMessage(content) {\n        this.$message({showClose: true, type: 'error', message: content, duration: 1500});\n    }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/message.js","export default {\n  data() {\n    return {\n      isLogin: false,\n      user: null\n    }\n  },\n  mounted() {\n    this.getUserInfo();\n  },\n  methods: {\n    flushUserInfo() {\n      this.isLogin = this.user !== null;\n      localStorage.setItem('userInfo', JSON.stringify(this.user));\n    },\n    getUserInfo() {\n      if (this.user === null) {\n        this.user = JSON.parse(localStorage.getItem('userInfo'));\n      }\n      this.isLogin = this.user !== null;\n      return this.user;\n    },\n    clearUserInfo(targetUrl) {\n        this.user = null;\n        this.flushUserInfo();\n        if (!!targetUrl) {\n            this.$router.push({path: targetUrl});\n        } else {\n            this.$router.go(0);\n        }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/config.js"],"sourceRoot":""}